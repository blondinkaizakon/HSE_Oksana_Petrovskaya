# ‚úÖ RAG –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è - –°—Ç–∞—Ç—É—Å

## ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

### 1. RAG API –∑–∞–ø—É—â–µ–Ω
- **–ü–æ—Ä—Ç:** 8002
- **URL:** `http://localhost:8002`
- **–°–∫—Ä–∏–ø—Ç:** `/root/LegalFlow/start_rag_api.sh`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ QwenService
- **–ú–µ—Ç–æ–¥ getRAGContext():** ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω
- **–í—ã–∑–æ–≤ –≤ analyzeText():** ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ
- **–ü—Ä–æ–º–ø—Ç —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º:** ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω

### 3. –ü—Ä–æ–∫—Å–∏ Vite
- **/api/rag ‚Üí http://localhost:8002:** ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω
- **/api/qwen ‚Üí http://localhost:8001:** ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω

## üìã –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å** ‚Üí `QwenService.analyzeText()`
2. **–ü–æ–∏—Å–∫ –≤ RAG** ‚Üí `getRAGContext()` ‚Üí `/api/rag/context`
3. **RAG –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç** ‚Üí –î–æ 3 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
4. **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞** ‚Üí –í–∫–ª—é—á–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ RAG
5. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞** ‚Üí Qwen –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
6. **–í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞** ‚Üí –û—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

## üîÑ –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
blondinkaizakon (–ø–æ—Ä—Ç 3000)
    ‚Üì
QwenService.ts
    ‚îú‚îÄ‚Üí /api/rag/context (–ø–æ—Ä—Ç 8002) ‚Üí RAG –ø–æ–∏—Å–∫
    ‚îî‚îÄ‚Üí /api/qwen/generate (–ø–æ—Ä—Ç 8001) ‚Üí –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
```

## üìù –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

1. `/root/blondinkaizakon/services/qwenService.ts`
   - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `getRAGContext()`
   - –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `analyzeText()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è RAG
   - –ü—Ä–æ–º–ø—Ç –≤–∫–ª—é—á–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

2. `/root/blondinkaizakon/vite.config.ts`
   - –î–æ–±–∞–≤–ª–µ–Ω –ø—Ä–æ–∫—Å–∏ `/api/rag` ‚Üí `http://localhost:8002`

3. `/root/LegalFlow/start_rag_api.sh` (—Å–æ–∑–¥–∞–Ω)
   - –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ RAG API

## üöÄ –ó–∞–ø—É—Å–∫

```bash
# 1. Qwen API
cd /root/qwen-model && ./start_api.sh

# 2. RAG API
cd /root/LegalFlow && ./start_rag_api.sh

# 3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
cd /root/blondinkaizakon && npm run dev
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

### –í –±—Ä–∞—É–∑–µ—Ä–µ (DevTools ‚Üí Console):
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
2. –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏:
   - `üîç –ü–æ–∏—Å–∫ –≤ RAG —Å–∏—Å—Ç–µ–º–µ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞: ...`
   - `‚úÖ –ü–æ–ª—É—á–µ–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ RAG: ... —Å–∏–º–≤–æ–ª–æ–≤`
   - `üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ Qwen API: ...`

### –¢–µ—Å—Ç RAG API:
```bash
curl -X POST http://localhost:8002/context \
  -H "Content-Type: application/json" \
  -d '{"query": "–¥–æ–≥–æ–≤–æ—Ä –ø–æ—Å—Ç–∞–≤–∫–∏", "k": 3}'
```

## üéâ –°—Ç–∞—Ç—É—Å: –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

