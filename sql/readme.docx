# База данных судебной системы  
**Автор**: Оксана Петровская  
**Версия**: 1.0

## Общее описание
База данных предназначена для учёта судебных дел, участников процесса (физ. и юр. лиц), судебных документов и аналитики по делам. Поддерживает комплексные запросы для статистики, мониторинга и отчётности.

## Структура БД

### Таблицы и их назначение

| Таблица | Описание |
|--------|----------|
| `districts` | Судебные округа (Московский, Санкт-Петербургский и др.) |
| `judges` | Судьи, привязанные к округам |
| `individuals` | Физические лица (истцы, ответчики, свидетели), с уникальными контактами |
| `legal_entities` | Юридические лица (организации), с ИНН/ОГРН |
| `case_categories` | Категории дел: гражданские, арбитражные и т.д. |
| `participant_roles` | Роли участников: истец, ответчик, адвокат и др. |
| `cases` | Судебные дела: номер, даты, статус, результат, привязка к судье/округу/категории |
| `case_participants` | Связь «многие-ко-многим»: кто участвует в деле и в какой роли |
| `documents` | Документы по делу (решения, ходатайства), с датой и судьёй |

### Отношения между таблицами
- Один судья работает в одном округе (`judges.district_id → districts.district_id`)
- Одно дело ведёт один судья, относится к одной категории и одному округу (`cases.judge_id`, `category_id`, `district_id`)
- Участник дела — либо физическое, либо юридическое лицо (`case_participants.individual_id` XOR `entity_id`)
- При удалении дела автоматически удаляются все его участники и документы (`ON DELETE CASCADE`)

### Механизмы обеспечения целостности
- Уникальность: номера дел, ИНН, ОГРН, пар (телефон + email)
- Ограничения дат: дата закрытия ≥ даты открытия
- Защита от некорректных данных: `CHECK` и `FOREIGN KEY`
- Каскадное удаление для поддержания согласованности

## Запросы
Все 15 требуемых запросов реализованы в файле `itog_bd_result.sql` (раздел `-- ЗАПРОСЫ`). Примеры:
- Список дел участника
- Рейтинг судей
- Аналитика по категориям и округам
- CRUD-операции (добавление, обновление, удаление)

## Зависимости
- MySQL 8.0+ (из-за поддержки `WITH`, `CHECK`, `ON DELETE CASCADE`)
